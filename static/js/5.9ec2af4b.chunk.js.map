{"version":3,"sources":["Components/ChangeWorklogModal/TimeSlider/TimeSlider.module.css","Components/ChangeWorklogModal/ModalWindow.module.css","Components/ChangeWorklogModal/TimeSlider/SliderValueLeftLabel.tsx","Components/ChangeWorklogModal/TimeSlider/SliderValueRightLabel.tsx","assets/secondary/FindElementPose.js","Components/ChangeWorklogModal/TimeSlider/TimeSlider.tsx","Components/ChangeWorklogModal/ChangeWorklogModal.tsx","Components/ChangeWorklogModal/ChangeWorklogModalContainer.tsx"],"names":["module","exports","LeftLabel","props","className","LS","style","display","value","Position","left","offsetLeft","LeftLabelImage","LabelValue","start","RightLabel","right","offsetRight","end","findPosX","obj","curleft","offsetParent","x","TimeSlider","useState","SetValue","LeftPose","SetLeftPose","RightPose","SetRightPose","LeftOffset","SetLeftOffset","RightOffset","SetRightOffset","TimerButtonsInit","slider","document","querySelectorAll","el","SliderWidth","getComputedStyle","width","SliderPoseStart","SliderPoseEnd","Number","parseInt","substr","length","LeftMargin","RightMargin","useEffect","disabled","format","maxValue","minValue","name","onChangeStart","time","onChangeComplete","SetTimerValue","onChange","step","React","memo","modalWorklogInput","useInput","worklogToChange","TaskField","modalIssueInput","Issue","modalTimeLineValues","setModalTimeLineValues","newWorklogNameIsFilled","setNewWorklogNameIsFilled","newIssueNameIsFilled","setNewIssueNameIsFilled","EmptyWorklogTimerMinutes","timerData","TimerValue","EmptyWorklogTimerEndHours","CurrentTime","ToFullTime","Date","getHours","getMinutes","EmptyWorklogTimeValues","CalculateNewStartTime","TimerTaskField","forceUpdate","TimerIssue","playingWorklog","StartTime","EndTime","close","e","preventDefault","closeWorklogChangeModal","setTimerData","undefined","setWorklogToChange","setIsPlayingWorklogById","clear","worklogChangeModalIsOpen","open","onClose","aria-labelledby","aria-describedby","id","container","justify","alignItems","item","paddingTop","CustomInput","bind","label","placeholder","MS","ModalInputError","IssuesSelectInput","issues","paddingBottom","direction","onClick","Obj","NewWL","status","IsFavorites","changeFavoritesWorklog","changeWorklog","CustomizedButton","fontColor","bgColor","text","variant","fontSize","startIcon","prevProps","nextProps","ChangeWorklogModalContainer","useSelector","getPlayingWorklog","getWorklogToChange","getIssues","WFS","useWorklogsFunctions","addWorklog"],"mappings":"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","file":"static/js/5.9ec2af4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"LeftLabel\":\"TimeSlider_LeftLabel__2qgrf\",\"RightLabel\":\"TimeSlider_RightLabel__1VbVI\",\"LeftLabelImage\":\"TimeSlider_LeftLabelImage__3S1BR\",\"LabelValue\":\"TimeSlider_LabelValue__3KC9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalInputError\":\"ModalWindow_ModalInputError__2Aqa5\",\"Err\":\"ModalWindow_Err__UprFu\"};","import React from \"react\";\r\nimport LS from \"./TimeSlider.module.css\"\r\nexport type TLeftLabelProps = {\r\n    Position : number | undefined\r\n    value : {\r\n    end : string | null,\r\n    start : string | null\r\n    } | undefined\r\n    offsetLeft : number | undefined,\r\n}\r\n\r\nexport const LeftLabel :React.FC<TLeftLabelProps> = (props) =>{\r\n    return <div className={LS.LeftLabel}\r\n                style={{display : `${!props.value &&  !props.Position ? \"none\" : \"block\" }`,\r\n                    left : `${props.Position && props.offsetLeft \r\n                    && props.Position - props.offsetLeft +30 + \"px\"}` }}>\r\n            <div className={LS.LeftLabelImage} > </div>\r\n            <div className={LS.LabelValue}> {props.value && props.value.start && props.value.start } </div>\r\n    </div>\r\n}\r\n\r\n","import React from \"react\";\r\nimport LS from \"./TimeSlider.module.css\"\r\nexport type TLeftLabelProps = {\r\n    Position : number | undefined\r\n    value : {\r\n    end : string | null,\r\n    start : string | null\r\n    } | undefined\r\n    offsetRight : number | undefined\r\n}\r\n\r\nexport const RightLabel :React.FC<TLeftLabelProps> = (props) =>{\r\n    return <div className={LS.RightLabel}\r\n                style={{ display : `${!props.value && !props.Position ? \"none\" : \"block\" }`,\r\n                    right : `${props.Position && props.offsetRight &&   props.offsetRight - props.Position  +\"px\" }`}}>\r\n            <div className={LS.LeftLabelImage} > </div>\r\n            <div className={LS.LabelValue}> {props.value && props.value.end && props.value.end } </div>\r\n    </div>\r\n}\r\n\r\n","export const  findPosX =(obj  ) =>{\r\n    var curleft = 0;\r\n    if (obj.offsetParent) {\r\n        while (1) {\r\n            curleft+=obj.offsetLeft;\r\n            if (!obj.offsetParent) {\r\n                break;\r\n            }\r\n            obj=obj.offsetParent;\r\n        }\r\n    } else if (obj.x) {\r\n        curleft+=obj.x;\r\n    }\r\n    return curleft;\r\n}\r\n\r\nexport const  findPosY = (obj) => {\r\n    var curtop = 0;\r\n    if (obj.offsetParent) {\r\n        while (1) {\r\n            curtop+=obj.offsetTop;\r\n            if (!obj.offsetParent) {\r\n                break;\r\n            }\r\n            obj=obj.offsetParent;\r\n        }\r\n    } else if (obj.y) {\r\n        curtop+=obj.y;\r\n    }\r\n    return curtop;\r\n}","import React, {useState, useEffect, Dispatch} from 'react';\r\n//@ts-ignore\r\nimport TimeRangeSlider from 'react-time-range-slider';\r\nimport {LeftLabel} from \"./SliderValueLeftLabel\";\r\nimport {RightLabel} from \"./SliderValueRightLabel\";\r\nimport {findPosX} from \"../../../assets/secondary/FindElementPose\";\r\n\r\nexport type TTimeSliderProps = {\r\n    step: number\r\n    maxValue?: string\r\n    minValue?: string\r\n    format?: number\r\n    disabled: boolean\r\n    value?: {\r\n        start: string | null\r\n        end: string | null\r\n    }\r\n    SetTimerValue: Dispatch<any>\r\n}\r\n\r\n\r\nexport const TimeSlider: React.FC<TTimeSliderProps> = (props) => {\r\n    const [value, SetValue] = useState({\r\n        start: props.value?.start ? props.value.start as string | null : \"08:00\",\r\n        end: props.value?.end ? props.value.end as string | null : \"22:00\"\r\n    })\r\n    const [LeftPose, SetLeftPose] = useState<number>()\r\n    const [RightPose, SetRightPose] = useState<number>()\r\n    const [LeftOffset, SetLeftOffset] = useState<number>()\r\n    const [RightOffset, SetRightOffset] = useState<number>()\r\n\r\n\r\n    const TimerButtonsInit = () => {\r\n        // get slider\r\n        let slider = document.querySelectorAll(\".input-range\")\r\n        //get slider  handlers\r\n        let el = document.querySelectorAll(\".input-range__slider\")\r\n        // SetLeftPose(el[0].getBoundingClientRect())\r\n        // SetRightPose(el[1].getBoundingClientRect())\r\n        let SliderWidth = getComputedStyle(slider[0], null).width\r\n        // slider start pose\r\n        let SliderPoseStart = findPosX(slider[0])\r\n        // get slider pose\r\n        let SliderPoseEnd = SliderPoseStart + Number.parseInt(SliderWidth.substr(0, SliderWidth.length - 2))\r\n        //get offsets  for left and right labels\r\n        let LeftMargin = findPosX(el[0])\r\n        let RightMargin = findPosX(el[1])\r\n        SetLeftOffset(SliderPoseStart)\r\n        SetRightOffset(SliderPoseEnd)\r\n        SetLeftPose(LeftMargin)\r\n        SetRightPose(RightMargin)\r\n    }\r\n\r\n    useEffect(() => {\r\n            props.value && SetValue(props.value)\r\n            TimerButtonsInit()\r\n        }, [props.value && props.value]\r\n    );\r\n\r\n\r\n    const changeStartHandler = (time: any) => {\r\n        // console.log(\"Start Handler Called\", time);\r\n    }\r\n\r\n    const timeChangeHandler = (time: any) => {\r\n        TimerButtonsInit()\r\n        SetValue(time)\r\n    }\r\n\r\n    const changeCompleteHandler = (time: any) => {\r\n        TimerButtonsInit()\r\n        props.SetTimerValue(value)\r\n        SetValue(time)\r\n        /* console.log(\"Complete Handler Called\", time);*/\r\n    }\r\n\r\n    return (<>\r\n        <TimeRangeSlider\r\n            disabled={props.disabled}\r\n            format={props.format ? props.format : 24}\r\n            maxValue={props.maxValue ? props.maxValue : \"23:59\"}\r\n            minValue={props.minValue ? props.minValue : \"00:01\"}\r\n            name={\"time_range\"}\r\n            onChangeStart={changeStartHandler}\r\n            onChangeComplete={changeCompleteHandler}\r\n            onChange={timeChangeHandler}\r\n            step={props.step}\r\n            value={value}/>\r\n\r\n        <LeftLabel Position={LeftPose} offsetLeft={LeftOffset} value={value}/>\r\n        <RightLabel Position={RightPose} value={value} offsetRight={RightOffset}/>\r\n    </>);\r\n}\r\n","import React, {SyntheticEvent, useEffect, useState,} from \"react\"\r\nimport MS from \"./ModalWindow.module.css\"\r\nimport {TimeSlider} from \"./TimeSlider/TimeSlider\"\r\nimport {CalculateNewStartTime, ToFullTime} from \"../../assets/secondary/CalculateTime\"\r\nimport {IssuesSelectInput} from \"../Issues/Inputs/IssuesSelectInput\"\r\nimport {CustomInput} from \"../CustomElements/CustomInput/CustomInput\"\r\nimport {useInput} from \"../hooks/useInput\"\r\nimport {TModalWindowContainerProps} from \"./ChangeWorklogModalContainer\";\r\nimport Dialog from \"@material-ui/core/Dialog/Dialog\"\r\nimport DialogTitle from \"@material-ui/core/DialogTitle/DialogTitle\"\r\nimport DialogContent from \"@material-ui/core/DialogContent/DialogContent\"\r\nimport Grid from \"@material-ui/core/Grid/Grid\"\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport {\r\n    TAddWorklog,\r\n    TChangeFavoritesWorklog,\r\n    TChangeWorklog,\r\n    TSetIsPlayingWorklogById,\r\n    TSetWorklogToChange,\r\n    TWorkLog\r\n} from \"../../Redux/WorkLogsReducer\";\r\nimport {CustomizedButton} from \"../CustomElements/CustomizedButton/CustomizedButton\";\r\n\r\n\r\ntype TTimerValue = {\r\n    start: string | null\r\n    end: string | null\r\n}\r\ntype TChangeWorklogModalProps = TModalWindowContainerProps & {\r\n    issues: string[]\r\n    worklogToChange: TWorkLog | null\r\n    playingWorklog: TWorkLog  | null\r\n\r\n    changeFavoritesWorklog: TChangeFavoritesWorklog\r\n    setIsPlayingWorklogById: TSetIsPlayingWorklogById\r\n    setWorklogToChange: TSetWorklogToChange\r\n    changeWorklog: TChangeWorklog\r\n    addWorklog: TAddWorklog\r\n}\r\n\r\nconst ChangeWorklogModal: React.FC<TChangeWorklogModalProps> = (props) => {\r\n\r\n    const modalWorklogInput = useInput(props.worklogToChange && props.worklogToChange.TaskField ? props.worklogToChange.TaskField : \"\")\r\n    const modalIssueInput = useInput(props.worklogToChange && props.worklogToChange.Issue ? props.worklogToChange.Issue : \"\")\r\n    const [modalTimeLineValues, setModalTimeLineValues] = useState<TTimerValue>()\r\n    const [newWorklogNameIsFilled, setNewWorklogNameIsFilled] = useState<boolean>(false)\r\n    const [newIssueNameIsFilled, setNewIssueNameIsFilled] = useState<boolean>(false)\r\n\r\n    let EmptyWorklogTimerMinutes = props.timerData?.TimerValue.substr(3, props.timerData?.TimerValue.length - 6)\r\n    let EmptyWorklogTimerEndHours = props.timerData?.TimerValue.substr(0, props.timerData?.TimerValue.length - 6)\r\n    let CurrentTime = ToFullTime(new Date().getHours()) + \":\" + ToFullTime(new Date().getMinutes())\r\n    let EmptyWorklogTimeValues = {\r\n        start: CalculateNewStartTime(CurrentTime, EmptyWorklogTimerEndHours, EmptyWorklogTimerMinutes) as string | null,\r\n        end: CurrentTime as string | null\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (props.timerData) {\r\n            props.timerData.TimerTaskField && modalWorklogInput.forceUpdate(props.timerData.TimerTaskField)\r\n            props.timerData.TimerIssue && modalIssueInput.forceUpdate(props.timerData.TimerIssue)\r\n            if (props.playingWorklog && props.playingWorklog.StartTime && props.playingWorklog.EndTime) {\r\n                setModalTimeLineValues({\r\n                    start: props.playingWorklog.StartTime,\r\n                    end: props.playingWorklog.EndTime\r\n                })\r\n            } else setModalTimeLineValues(EmptyWorklogTimeValues)\r\n        } else if (props.worklogToChange) {\r\n            props.worklogToChange.TaskField && modalWorklogInput.forceUpdate(props.worklogToChange.TaskField)\r\n            props.worklogToChange.Issue && modalIssueInput.forceUpdate(props.worklogToChange.Issue)\r\n            setModalTimeLineValues({\r\n                start: props.worklogToChange.StartTime,\r\n                end: props.worklogToChange.EndTime\r\n            })\r\n        }\r\n    }, [props.timerData?.TimerIssue, props.timerData?.TimerTaskField, props.timerData?.TimerValue,\r\n        props.worklogToChange])\r\n\r\n    const OnModalSubmit = (e: SyntheticEvent) => {\r\n        {\r\n            modalWorklogInput.value.length > 0\r\n                ? setNewWorklogNameIsFilled(false)\r\n                : setNewWorklogNameIsFilled(true)\r\n        }\r\n        {\r\n            modalIssueInput.value.length > 0\r\n                ? setNewIssueNameIsFilled(false)\r\n                : setNewIssueNameIsFilled(true)\r\n        }\r\n\r\n        if (modalWorklogInput.value.length > 0\r\n            && modalIssueInput.value.length > 0\r\n            && modalTimeLineValues) {\r\n\r\n            let Obj : string\r\n            if (props.timerData) Obj = \"playingWorklog\"; else Obj = \"worklogToChange\"\r\n\r\n            let NewWL = {\r\n                //@ts-ignore\r\n                ...props[Obj],\r\n                StartTime: modalTimeLineValues.start,\r\n                EndTime: modalTimeLineValues.end,\r\n                TaskField: modalWorklogInput.value,\r\n                Issue: modalIssueInput.value,\r\n                //@ts-ignore\r\n                status: props[Obj].status ? props[Obj].status : \"warning\",\r\n\r\n                TimerValue: props.timerData && props.timerData.TimerValue ? props.timerData.TimerValue\r\n                    //@ts-ignore\r\n                    : props[Obj].TimerValue ? props[Obj].TimerValue : \"00:00:00\"\r\n            }\r\n\r\n            if (NewWL.IsFavorites) {\r\n                //@ts-ignore\r\n                props.changeFavoritesWorklog(props[Obj].id, NewWL)\r\n                //@ts-ignore\r\n                props.setIsPlayingWorklogById(false, props[Obj].id)\r\n            } else {\r\n                //@ts-ignore\r\n                props.changeWorklog(NewWL)\r\n                //@ts-ignore\r\n                props.setIsPlayingWorklogById(false, props[Obj].id)\r\n            }\r\n            modalWorklogInput.clear()\r\n            modalIssueInput.clear()\r\n            setNewWorklogNameIsFilled(false)\r\n            setNewIssueNameIsFilled(false)\r\n            close(e)\r\n        }\r\n    }\r\n\r\n\r\n    const close = (e: SyntheticEvent) => {\r\n        e.preventDefault();\r\n        if (props.closeWorklogChangeModal) {\r\n            props.closeWorklogChangeModal()\r\n        }\r\n        props.setTimerData(undefined)\r\n        props.setWorklogToChange(undefined)\r\n        props.setIsPlayingWorklogById(false)\r\n        modalWorklogInput.clear()\r\n        modalIssueInput.clear()\r\n    }\r\n\r\n\r\n    if (!props.worklogChangeModalIsOpen) return null;\r\n\r\n    return (\r\n        <Dialog\r\n            open={props.worklogChangeModalIsOpen}\r\n            onClose={props.closeWorklogChangeModal}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{\"New worklog\"}</DialogTitle>\r\n            <DialogContent>\r\n                <Grid container justify=\"center\" alignItems=\"center\">\r\n\r\n                    <Grid item className=\"TimeSLider\" style={{paddingTop: \"10%\"}}>\r\n                        {\r\n                            modalTimeLineValues?.start && modalTimeLineValues?.end &&\r\n                            <TimeSlider value={modalTimeLineValues} disabled={false}\r\n                                        step={10} SetTimerValue={setModalTimeLineValues}/>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid item style={{paddingTop: \"3rem\"}} className=\"Inputs\">\r\n\r\n                        <CustomInput {...modalWorklogInput.bind} label={\"Task Field\"}\r\n                                     placeholder={\"Please, enter the task\"} width={500}/>\r\n\r\n                        {\r\n                            newWorklogNameIsFilled &&\r\n                            <div id=\"new-issue-err\" className={MS.ModalInputError}> Please, enter worklog name</div>\r\n                        }\r\n\r\n                        <div style={{paddingTop: \"1rem\"}}>\r\n                            {\r\n                                //@ts-ignore\r\n                                <IssuesSelectInput issues={props.issues}{...modalIssueInput.bind} />\r\n                            }\r\n                        </div>\r\n\r\n\r\n                        {\r\n                            newIssueNameIsFilled &&\r\n                            <div id=\"new-issue-err\" className={MS.ModalInputError}> Please, enter issue name</div>\r\n                        }\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item style={{paddingTop: \"3rem\", paddingBottom: \"1rem\"}} className=\"ContorlButtons\">\r\n                        <Grid container direction=\"row\" justify=\"space-around\" alignItems=\"center\">\r\n\r\n                            <Grid item onClick={OnModalSubmit}>\r\n                                <CustomizedButton fontColor=\"blue\" bgColor=\"white\" text=\"save\"\r\n                                                  variant=\"outlined\" fontSize={14} startIcon={<SaveIcon/>}/>\r\n                            </Grid>\r\n\r\n                            <Grid onClick={props.closeWorklogChangeModal}>\r\n                                <CustomizedButton fontColor=\"red\" text={\"go back\"}\r\n                                                  variant={\"outlined\"} fontSize={14}/>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n\r\n\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n\r\n            </DialogContent>\r\n        </Dialog>\r\n\r\n    )\r\n}\r\n\r\nexport default React.memo(ChangeWorklogModal, (prevProps, nextProps) => {\r\n    if (prevProps.worklogChangeModalIsOpen !== nextProps.worklogChangeModalIsOpen) return false\r\n    else return true\r\n})","import React from 'react'\r\nimport {useSelector} from \"react-redux\";\r\nimport ChangeWorklogModal from \"./ChangeWorklogModal\";\r\nimport {TTimerData} from \"../../Redux/WorkLogsReducer\";\r\nimport {getPlayingWorklog, getWorklogToChange} from \"../Selectors/WorklogsSelectors\";\r\nimport {getIssues} from \"../Selectors/IssuesSelectors\";\r\nimport {useWorklogsFunctions} from \"../hooks/useWorklogsFunctions\";\r\n\r\nexport type TModalWindowContainerProps = {\r\n    closeWorklogChangeModal: () => void\r\n    worklogChangeModalIsOpen: boolean\r\n    timerData: TTimerData | undefined\r\n    setTimerData: (data: TTimerData | undefined) => void\r\n}\r\n\r\nconst ChangeWorklogModalContainer: React.FC<TModalWindowContainerProps> = (props) => {\r\n\r\n    const playingWorklog = useSelector(getPlayingWorklog)\r\n    const worklogToChange = useSelector(getWorklogToChange)\r\n    const issues = useSelector(getIssues)\r\n\r\n    const WFS = useWorklogsFunctions()\r\n    return <ChangeWorklogModal {...props}\r\n                               worklogToChange={worklogToChange} issues={issues} playingWorklog={playingWorklog}\r\n                               addWorklog={WFS.addWorklog} setIsPlayingWorklogById={WFS.setIsPlayingWorklogById}\r\n                               setWorklogToChange={WFS.setWorklogToChange} changeWorklog={WFS.changeWorklog}\r\n                               changeFavoritesWorklog={WFS.changeFavoritesWorklog}/>\r\n}\r\nexport default ChangeWorklogModalContainer"],"sourceRoot":""}